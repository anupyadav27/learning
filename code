// This is the function that will handle HTTP GET requests when you deploy your script as a web app
function doGet() {
  return ContentService.createTextOutput(listGoogleTasks());
}

// This function lists tasks from a specific task list in Google Tasks
function listGoogleTasks() {
  var tasklistId = 'your-tasklist-id'; // Replace with your actual Task List ID
  var tasks = Tasks.Tasks.list(tasklistId);
  
  if (!tasks.items || tasks.items.length === 0) {
    return "No tasks found.";
  }
  
  var output = "<table border='1'><tr><th>Task Name</th><th>Description</th></tr>";
  
  for (var i = 0; i < tasks.items.length; i++) {
    var task = tasks.items[i];
    var taskTitle = task.title || "No Title"; // Default if no title
    var taskNotes = task.notes || "No Description"; // Default if no description
    
    output += "<tr><td>" + taskTitle + "</td><td>" + taskNotes + "</td></tr>";
  }
  
  output += "</table>";
  return output;
}
